[ { "type": "comment", "value": "**\n * Zend Framework (http:\/\/framework.zend.com\/)\n *\n * @link      http:\/\/github.com\/zendframework\/zf2 for the canonical source repository\n * @copyright Copyright (c) 2005-2013 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd New BSD License\n *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 9, "char": 9 }, { "type": "namespace", "name": "Cyant\\EventManager", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 16, "char": 2 }, { "type": "comment", "value": "**\n * Event manager: notification system\n *\n * Use the EventManager when you want to create a per-instance notification\n * system for your objects.\n *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 17, "char": 5 }, { "type": "class", "name": "EventManager", "abstract": 0, "final": 0, "implements": [ { "type": "variable", "value": "Cyant\\EventManager\\EventManagerInterface", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 18, "char": 1 } ], "definition": { "properties": [ { "visibility": [ "protected" ], "type": "property", "name": "events", "docblock": "**\n     * Subscribed events and their listeners\n     *\n     * @var array\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 30, "char": 6 }, { "visibility": [ "protected" ], "type": "property", "name": "identifiers", "docblock": "**\n     * Identifiers, used to pull shared signals from SharedEventManagerInterface instance\n     *\n     * @var array\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 37, "char": 6 }, { "visibility": [ "protected" ], "type": "property", "name": "sharedManager", "default": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 38, "char": 35 }, "docblock": "**\n     * Shared event manager\n     *\n     * @var null|SharedEventManagerInterface\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 47, "char": 6 } ], "methods": [ { "visibility": [ "public" ], "type": "method", "name": "__construct", "parameters": [ { "type": "parameter", "name": "identifiers", "default": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 48, "char": 51 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 48, "char": 51 } ], "statements": [ { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "events", "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 50, "char": 35 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 50, "char": 35 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 51, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "identifiers", "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 51, "char": 35 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 51, "char": 35 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 53, "char": 12 }, { "type": "mcall", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 53, "char": 14 }, "name": "setIdentifiers", "call-type": 1, "parameters": [ { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 53, "char": 41 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 53, "char": 42 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 54, "char": 5 } ], "docblock": "**\n     * Constructor\n     *\n     * Allows optionally specifying identifier(s) to use to pull signals from a\n     * SharedEventManagerInterface.\n     *\n     * @param  null|string|int|array|Traversable identifiers\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 61, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "setSharedManager", "parameters": [ { "type": "parameter", "name": "sharedEventManager", "cast": { "type": "variable", "value": "Cyant\\EventManager\\SharedEventManagerInterface", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 62, "char": 104 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 62, "char": 105 } ], "statements": [ { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "sharedManager", "expr": { "type": "variable", "value": "sharedEventManager", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 64, "char": 53 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 64, "char": 53 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 65, "char": 5 } ], "docblock": "**\n     * Set shared event manager\n     *\n     * @param  SharedEventManagerInterface sharedEventManager\n     * @return void\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 71, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "getSharedManager", "statements": [ { "type": "return", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 74, "char": 21 }, "right": { "type": "variable", "value": "sharedManager", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 74, "char": 35 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 74, "char": 35 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 75, "char": 5 } ], "docblock": "**\n     * Get shared event manager\n     *\n     * @return SharedEventManagerInterface|null\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 95, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "attach", "parameters": [ { "type": "parameter", "name": "event", "data-type": "string", "mandatory": 0, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 96, "char": 40 }, { "type": "parameter", "name": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 96, "char": 50 }, { "type": "parameter", "name": "priority", "data-type": "int", "mandatory": 0, "default": { "type": "int", "value": "1", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 96, "char": 68 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 96, "char": 68 } ], "statements": [ { "type": "if", "expr": { "type": "not", "left": { "type": "isset", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 24 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 31 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 31 }, "right": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 37 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 98, "char": 39 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "object-property-array-index", "operator": "assign", "variable": "this", "property": "events", "index-expr": [ { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 99, "char": 35 } ], "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 99, "char": 41 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 99, "char": 41 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 100, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 10 }, { "type": "if", "expr": { "type": "not", "left": { "type": "isset", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 24 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 31 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 31 }, "right": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 37 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 38 }, "right": { "type": "concat", "left": { "type": "variable", "value": "priority", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 48 }, "right": { "type": "string", "value": ".0", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 54 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 54 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 56 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 56 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 102, "char": 56 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "object-property-array-index", "operator": "assign", "variable": "this", "property": "events", "index-expr": [ { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 103, "char": 35 }, { "type": "concat", "left": { "type": "variable", "value": "priority", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 103, "char": 46 }, "right": { "type": "string", "value": ".0", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 103, "char": 52 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 103, "char": 52 } ], "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 103, "char": 58 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 103, "char": 58 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 104, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 18 }, { "type": "fcall", "expr": { "type": "fcall", "name": "array_push", "call-type": 1, "parameters": [ { "type": "array-access", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 25 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 32 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 32 }, "right": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 38 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 39 }, "right": { "type": "concat", "left": { "type": "variable", "value": "priority", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 49 }, "right": { "type": "string", "value": ".0", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 55 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 55 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 56 }, { "type": "variable", "value": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 66 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 106, "char": 67 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 107, "char": 14 }, { "type": "return", "expr": { "type": "variable", "value": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 107, "char": 24 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 108, "char": 5 } ], "docblock": "**\n     * Attach a listener to an event\n     *\n     * The first argument is the event, and the next argument describes a\n     * callback that will respond to that event.\n     *\n     * The last argument indicates a priority at which the event should be\n     * executed. By default, this value is 1; however, you may set it for any\n     * integer value. Higher values have higher priority (i.e., execute first).\n     *\n     * You can specify \"*\" for the event name. In such cases, the listener will\n     * be triggered for every event.\n     *\n     * @param  string   event An event or array of event names\n     * @param  listener\n     * @param  int      priority If provided, the priority at which to register the callable\n     * @return if attaching (to allow later unsubscribe)\n     * @throws Exception\\InvalidArgumentException\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 120, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "attachAggregate", "parameters": [ { "type": "parameter", "name": "aggregate", "cast": { "type": "variable", "value": "Cyant\\EventManager\\ListenerAggregateInterface", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 121, "char": 93 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 121, "char": 94 }, { "type": "parameter", "name": "priority", "default": { "type": "int", "value": "1", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 121, "char": 108 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 121, "char": 108 } ], "statements": [ { "type": "return", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "aggregate", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 123, "char": 26 }, "name": "attach", "call-type": 1, "parameters": [ { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 123, "char": 38 }, { "type": "variable", "value": "priority", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 123, "char": 48 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 123, "char": 49 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 124, "char": 5 } ], "docblock": "**\n     * Attach a listener aggregate\n     *\n     * Listener aggregates accept an EventManagerInterface instance, and call attach()\n     * one or more times, typically to attach to multiple events using local\n     * methods.\n     *\n     * @param  ListenerAggregateInterface aggregate\n     * @param  int                        priority If provided, a suggested priority for the aggregate to use\n     * @return mixed return value of {@link ListenerAggregateInterface::attach()}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 135, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "detach", "parameters": [ { "type": "parameter", "name": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 136, "char": 36 }, { "type": "parameter", "name": "eventName", "default": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 136, "char": 54 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 136, "char": 54 } ], "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "index", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 138, "char": 18 }, { "variable": "listeners", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 138, "char": 29 }, { "variable": "key", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 138, "char": 34 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 10 }, { "type": "if", "expr": { "type": "list", "left": { "type": "not", "left": { "type": "empty", "left": { "type": "and", "left": { "type": "list", "left": { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 29 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 32 }, "right": { "type": "isset", "left": { "type": "list", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 45 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 52 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 52 }, "right": { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 62 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 63 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 64 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 64 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 64 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 64 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 64 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 140, "char": 66 }, "statements": [ { "type": "for", "expr": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 142, "char": 42 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 142, "char": 49 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 142, "char": 49 }, "right": { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 142, "char": 59 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 142, "char": 61 }, "key": "index", "value": "listeners", "reverse": 0, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "key", "expr": { "type": "fcall", "name": "array_search", "call-type": 1, "parameters": [ { "type": "variable", "value": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 144, "char": 48 }, { "type": "variable", "value": "listeners", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 144, "char": 59 }, { "type": "bool", "value": "true", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 144, "char": 65 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 144, "char": 66 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 144, "char": 66 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 145, "char": 18 }, { "type": "if", "expr": { "type": "list", "left": { "type": "not-identical", "left": { "type": "variable", "value": "key", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 145, "char": 27 }, "right": { "type": "bool", "value": "false", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 145, "char": 34 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 145, "char": 34 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 145, "char": 36 }, "statements": [ { "type": "unset", "expr": { "type": "list", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 32 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 39 }, "right": { "type": "variable", "value": "eventNameindex", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 54 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 55 }, "right": { "type": "variable", "value": "index", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 61 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 62 }, "right": { "type": "variable", "value": "key", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 66 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 67 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 146, "char": 68 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 147, "char": 26 }, { "type": "return", "expr": { "type": "bool", "value": "true", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 147, "char": 32 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 148, "char": 17 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 149, "char": 13 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 151, "char": 18 }, { "type": "return", "expr": { "type": "bool", "value": "false", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 151, "char": 25 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 152, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 154, "char": 11 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 154, "char": 18 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 155, "char": 11 }, { "type": "for", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 155, "char": 27 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 155, "char": 35 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 155, "char": 35 }, "value": "event", "reverse": 0, "statements": [ { "type": "for", "expr": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 156, "char": 35 }, "value": "listener", "reverse": 0, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "key", "expr": { "type": "fcall", "name": "array_search", "call-type": 1, "parameters": [ { "type": "variable", "value": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 157, "char": 48 }, { "type": "variable", "value": "listeners", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 157, "char": 59 }, { "type": "bool", "value": "true", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 157, "char": 65 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 157, "char": 66 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 157, "char": 66 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 158, "char": 18 }, { "type": "if", "expr": { "type": "list", "left": { "type": "not-identical", "left": { "type": "variable", "value": "key", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 158, "char": 27 }, "right": { "type": "bool", "value": "false", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 158, "char": 34 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 158, "char": 34 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 158, "char": 36 }, "statements": [ { "type": "unset", "expr": { "type": "list", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 32 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 39 }, "right": { "type": "variable", "value": "eventNameindex", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 54 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 55 }, "right": { "type": "variable", "value": "index", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 61 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 62 }, "right": { "type": "variable", "value": "key", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 66 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 67 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 159, "char": 68 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 160, "char": 26 }, { "type": "return", "expr": { "type": "bool", "value": "true", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 160, "char": 32 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 161, "char": 17 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 162, "char": 13 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 163, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 165, "char": 14 }, { "type": "return", "expr": { "type": "bool", "value": "false", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 165, "char": 21 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 166, "char": 5 } ], "docblock": "**\n     * Unsubscribe a listener from an event\n     *\n     * This method is quite inefficient as it needs to traverse each queue, so use with care! If you are that\n     * worried about performance, you should always filter by the event name so that less work is done\n     *\n     * @param  listener\n     * @param  string   eventName\n     * @return bool Returns true if event and listener found, and unsubscribed; returns false if either event or listener not found\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 176, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "detachAggregate", "parameters": [ { "type": "parameter", "name": "aggregate", "cast": { "type": "variable", "value": "Cyant\\Eventmanager\\ListenerAggregateInterface", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 177, "char": 93 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 177, "char": 94 } ], "statements": [ { "type": "return", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "aggregate", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 179, "char": 26 }, "name": "detach", "call-type": 1, "parameters": [ { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 179, "char": 38 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 179, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 180, "char": 5 } ], "docblock": "**\n     * Detach a listener aggregate\n     *\n     * Listener aggregates accept an EventManagerInterface instance, and call detach()\n     * of all previously attached listeners.\n     *\n     * @param  ListenerAggregateInterface aggregate\n     * @return bool\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 189, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "trigger", "parameters": [ { "type": "parameter", "name": "eventName", "data-type": "string", "mandatory": 0, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 190, "char": 45 }, { "type": "parameter", "name": "event", "cast": { "type": "variable", "value": "Cyant\\EventManager\\EventInterface", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 190, "char": 87 }, "default": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 190, "char": 95 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 190, "char": 95 }, { "type": "parameter", "name": "callback", "data-type": "variable", "mandatory": 0, "default": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 190, "char": 116 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 190, "char": 116 } ], "statements": [ { "type": "if", "expr": { "type": "list", "left": { "type": "equals", "left": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 193, "char": 20 }, "right": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 193, "char": 26 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 193, "char": 26 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 193, "char": 28 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "event", "expr": { "type": "new", "class": "Cyant\\EventManager\\Event", "dynamic": 0, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 194, "char": 55 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 194, "char": 55 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 195, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 196, "char": 13 }, { "type": "mcall", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 196, "char": 15 }, "name": "stopPropagation", "call-type": 1, "parameters": [ { "type": "bool", "value": "false", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 196, "char": 37 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 196, "char": 38 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 198, "char": 11 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "responses", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 198, "char": 22 }, { "variable": "listeners", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 198, "char": 33 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 199, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "responses", "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 199, "char": 27 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 199, "char": 27 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 202, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "listeners", "expr": { "type": "fcall", "name": "array_merge_recursive", "call-type": 1, "parameters": [ { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 203, "char": 18 }, "name": "getListeners", "call-type": 1, "parameters": [ { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 203, "char": 41 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 203, "char": 42 }, { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 204, "char": 18 }, "name": "getListeners", "call-type": 1, "parameters": [ { "type": "string", "value": "*", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 204, "char": 35 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 204, "char": 36 }, { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 205, "char": 18 }, "name": "getSharedListeners", "call-type": 1, "parameters": [ { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 205, "char": 47 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 205, "char": 48 }, { "type": "mcall", "variable": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 206, "char": 18 }, "name": "getSharedListeners", "call-type": 1, "parameters": [ { "type": "string", "value": "*", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 206, "char": 41 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 207, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 207, "char": 10 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 207, "char": 10 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 209, "char": 11 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "lastResponse", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 209, "char": 25 }, { "variable": "listenersByPriority", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 209, "char": 46 }, { "variable": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 209, "char": 56 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 211, "char": 11 }, { "type": "for", "expr": { "type": "variable", "value": "listeners", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 211, "char": 46 }, "value": "listenersByPriority", "reverse": 0, "statements": [ { "type": "for", "expr": { "type": "variable", "value": "listenersByPriority", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 212, "char": 49 }, "value": "listener", "reverse": 0, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "lastResponse", "expr": { "type": "fcall", "name": "call_user_func", "call-type": 1, "parameters": [ { "type": "variable", "value": "listener", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 214, "char": 59 }, { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 214, "char": 66 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 214, "char": 67 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 214, "char": 67 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 215, "char": 19 }, { "type": "let", "assignments": [ { "assign-type": "variable-append", "operator": "assign", "variable": "responses", "expr": { "type": "variable", "value": "lastResponse", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 215, "char": 47 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 215, "char": 47 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 18 }, { "type": "if", "expr": { "type": "list", "left": { "type": "or", "left": { "type": "mcall", "variable": { "type": "variable", "value": "event", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 27 }, "name": "isPropagationStopped", "call-type": 1, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 52 }, "right": { "type": "list", "left": { "type": "and", "left": { "type": "fcall", "name": "callback", "call-type": 2, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 69 }, "right": { "type": "fcall", "name": "callback", "call-type": 2, "parameters": [ { "type": "variable", "value": "lastResponse", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 94 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 95 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 95 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 97 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 97 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 217, "char": 99 }, "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "responseCollection", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 219, "char": 43 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 220, "char": 23 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "responseCollection", "expr": { "type": "new", "class": "Cyant\\EventManager\\ResponseCollection", "dynamic": 0, "parameters": [ { "type": "variable", "value": "responses", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 220, "char": 97 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 220, "char": 98 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 220, "char": 98 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 221, "char": 38 }, { "type": "mcall", "expr": { "type": "mcall", "variable": { "type": "variable", "value": "responseCollection", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 221, "char": 40 }, "name": "setStopped", "call-type": 1, "parameters": [ { "type": "bool", "value": "true", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 221, "char": 56 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 221, "char": 57 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 223, "char": 26 }, { "type": "return", "expr": { "type": "variable", "value": "responseCollection", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 223, "char": 46 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 224, "char": 17 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 225, "char": 13 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 226, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 228, "char": 14 }, { "type": "return", "expr": { "type": "new", "class": "Cyant\\EventManager\\ResponseCollection", "dynamic": 0, "parameters": [ { "type": "variable", "value": "responses", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 228, "char": 67 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 228, "char": 68 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 229, "char": 5 } ], "docblock": "**\n     * Trigger all listeners for a given event (optionally until a callback evaluates to true)\n     *\n     * @param  string              eventName\n     * @param  EventInterface|null event\n     * @param  callable|null       callback\n     * @return ResponseCollection All listener return values\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 233, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "getEventNames", "statements": [ { "type": "return", "expr": { "type": "fcall", "name": "array_keys", "call-type": 1, "parameters": [ { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 236, "char": 32 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 236, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 236, "char": 39 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 236, "char": 40 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 237, "char": 5 } ], "docblock": "**\n     * {@inheritDoc}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 241, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "getListeners", "parameters": [ { "type": "parameter", "name": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 242, "char": 43 } ], "statements": [ { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 244, "char": 23 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 244, "char": 30 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 244, "char": 30 }, "right": { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 244, "char": 40 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 244, "char": 42 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 244, "char": 42 }, "statements": [ { "type": "return", "expr": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 245, "char": 25 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 245, "char": 32 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 245, "char": 32 }, "right": { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 245, "char": 42 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 245, "char": 43 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 246, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 248, "char": 14 }, { "type": "return", "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 248, "char": 18 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 249, "char": 5 } ], "docblock": "**\n     * {@inheritDoc}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 253, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "clearListeners", "parameters": [ { "type": "parameter", "name": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 254, "char": 45 } ], "statements": [ { "type": "unset", "expr": { "type": "list", "left": { "type": "array-access", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 256, "char": 20 }, "right": { "type": "variable", "value": "events", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 256, "char": 27 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 256, "char": 27 }, "right": { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 256, "char": 37 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 256, "char": 38 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 256, "char": 39 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 257, "char": 5 } ], "docblock": "**\n     * {@inheritDoc}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 261, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "setIdentifiers", "parameters": [ { "type": "parameter", "name": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 262, "char": 47 } ], "statements": [ { "type": "if", "expr": { "type": "list", "left": { "type": "instanceof", "left": { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 264, "char": 34 }, "right": { "type": "variable", "value": "Traversable", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 264, "char": 47 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 264, "char": 47 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 264, "char": 49 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "identifiers", "expr": { "type": "fcall", "name": "iterator_to_array", "call-type": 1, "parameters": [ { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 265, "char": 60 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 265, "char": 61 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 265, "char": 61 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 266, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 268, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "identifiers", "expr": { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 268, "char": 44 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 268, "char": 44 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 269, "char": 5 } ], "docblock": "**\n     * {@inheritDoc}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 273, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "addIdentifiers", "parameters": [ { "type": "parameter", "name": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 274, "char": 47 } ], "statements": [ { "type": "if", "expr": { "type": "list", "left": { "type": "instanceof", "left": { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 276, "char": 34 }, "right": { "type": "variable", "value": "Traversable", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 276, "char": 47 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 276, "char": 47 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 276, "char": 49 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "identifiers", "expr": { "type": "fcall", "name": "iterator_to_array", "call-type": 1, "parameters": [ { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 277, "char": 60 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 277, "char": 61 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 277, "char": 61 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 278, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "object-property", "operator": "assign", "variable": "this", "property": "identifiers", "expr": { "type": "fcall", "name": "array_unique", "call-type": 1, "parameters": [ { "type": "fcall", "name": "array_merge", "call-type": 1, "parameters": [ { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 63 }, "right": { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 75 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 75 }, { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 88 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 89 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 90 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 280, "char": 90 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 281, "char": 5 } ], "docblock": "**\n     * {@inheritDoc}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 285, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "getIdentifiers", "statements": [ { "type": "return", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 288, "char": 21 }, "right": { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 288, "char": 33 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 288, "char": 33 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 289, "char": 5 } ], "docblock": "**\n     * {@inheritDoc}\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 300, "char": 6 }, { "visibility": [ "public" ], "type": "method", "name": "prepareArgs", "parameters": [ { "type": "parameter", "name": "args", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 301, "char": 37 } ], "statements": [ { "type": "return", "expr": { "type": "new", "class": "ArrayObject", "dynamic": 0, "parameters": [ { "type": "variable", "value": "args", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 303, "char": 36 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 303, "char": 37 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 304, "char": 5 } ], "docblock": "**\n     * Prepare arguments\n     *\n     * Use this method if you want to be able to modify arguments from within a\n     * listener. It returns an ArrayObject of the arguments, which may then be\n     * passed to trigger() or triggerUntil().\n     *\n     * @param  array args\n     * @return ArrayObject\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 312, "char": 6 }, { "visibility": [ "protected" ], "type": "method", "name": "getSharedListeners", "parameters": [ { "type": "parameter", "name": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 313, "char": 52 } ], "statements": [ { "type": "if", "expr": { "type": "list", "left": { "type": "equals", "left": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 315, "char": 18 }, "right": { "type": "variable", "value": "sharedManager", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 315, "char": 34 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 315, "char": 34 }, "right": { "type": "null", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 315, "char": 40 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 315, "char": 40 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 315, "char": 42 }, "statements": [ { "type": "return", "expr": { "type": "empty-array", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 316, "char": 22 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 317, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 319, "char": 11 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 319, "char": 24 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 320, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "identifiers", "expr": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 320, "char": 32 }, "right": { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 320, "char": 44 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 320, "char": 44 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 320, "char": 44 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 10 }, { "type": "if", "expr": { "type": "list", "left": { "type": "not", "left": { "type": "fcall", "name": "in_array", "call-type": 1, "parameters": [ { "type": "string", "value": "*", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 26 }, { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 39 }, { "type": "bool", "value": "true", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 45 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 46 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 46 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 323, "char": 48 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable-append", "operator": "assign", "variable": "identifiers", "expr": { "type": "string", "value": "*", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 324, "char": 36 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 324, "char": 36 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 325, "char": 9 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 14 }, { "type": "return", "expr": { "type": "mcall", "variable": { "type": "property-access", "left": { "type": "variable", "value": "this", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 21 }, "right": { "type": "variable", "value": "sharedManager", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 36 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 36 }, "name": "getListeners", "call-type": 1, "parameters": [ { "type": "variable", "value": "identifiers", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 61 }, { "type": "variable", "value": "eventName", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 72 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 327, "char": 73 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 328, "char": 5 } ], "docblock": "**\n     * Get list of all listeners attached to the shared event manager for\n     * identifiers registered by this instance\n     *\n     * @param  string eventName\n     * @return array\n     *", "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 329, "char": 1 } ], "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 329, "char": 1 }, "file": "\/Users\/antoine\/Workspace\/ZephirEvm\/cyant\/cyant\/eventmanager\/eventmanager.zep", "line": 330, "char": 0 } ]
